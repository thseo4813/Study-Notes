# ğŸš€ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„: 1ì–µ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì•„í‚¤í…ì²˜

## ğŸ’¥ ì‹¤ì œ ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ ê³ ë¯¼ë“¤

### ì„œë¹„ìŠ¤ í™•ì¥ ì‹œ í”íˆ í•˜ëŠ” ê³ ë¯¼:

**"íŠ¸ë˜í”½ì´ í­ì¦í•˜ëŠ”ë° ì‹œìŠ¤í…œì´ ë²„í‹°ì§ˆ ì•Šì•„!"**
- ì´ë²¤íŠ¸ ë•Œ ì„œë²„ê°€ í„°ì ¸ì„œ ì„œë¹„ìŠ¤ ë‹¤ìš´
- ê°‘ìê¸° ìœ ëª…í•´ì ¸ì„œ íŠ¸ë˜í”½ 10ë°° ì¦ê°€
- í•´ì™¸ ì‚¬ìš©ì ëŠ˜ì–´ë‚˜ë©´ì„œ ê¸€ë¡œë²Œ í™•ì¥ í•„ìš”

**"ì„œë²„ í•˜ë‚˜ ì£½ì—ˆëŠ”ë° ì „ì²´ ì„œë¹„ìŠ¤ê°€ ë§ˆë¹„ëì–´!"**
- SPOF(Single Point of Failure)ë¡œ ì¸í•œ ì¥ì• 
- ë°ì´í„°ì„¼í„° í™”ì¬ë¡œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨
- DDoS ê³µê²©ìœ¼ë¡œ ì„œë¹„ìŠ¤ ë§ˆë¹„

**"ì‘ë‹µì´ ë„ˆë¬´ ëŠë ¤ì„œ ì‚¬ìš©ìê°€ ì´íƒˆí•´!"**
- API ì‘ë‹µ ì‹œê°„ì´ 5ì´ˆ ë„˜ìŒ
- ì´ë¯¸ì§€ ë¡œë”©ì´ ëŠë ¤ì„œ ì´íƒˆë¥  ì¦ê°€
- ëª¨ë°”ì¼ì—ì„œ íŠ¹íˆ ëŠë¦¼

## ğŸ¯ 1ë¶„ ìš”ì•½: ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì˜ í•µì‹¬

**ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ = SPOF ì œê±° + ìˆ˜í‰ í™•ì¥ + ì¥ì•  ìë™ ë³µêµ¬**

- **ìˆ˜ì§ í™•ì¥**: ì„œë²„ ì„±ëŠ¥ ë†’ì´ê¸° (í•œê³„ ìˆìŒ)
- **ìˆ˜í‰ í™•ì¥**: ì„œë²„ ëŒ€ìˆ˜ ëŠ˜ë¦¬ê¸° (ë¬´í•œ í™•ì¥ ê°€ëŠ¥)
- **ë‚´ê²°í•¨ì„±**: í•˜ë‚˜ì˜ ì¥ì• ê°€ ì „ì²´ì— ì˜í–¥ ë¯¸ì¹˜ì§€ ì•ŠìŒ

> **ê²°ë¡ :**
> 1. **í™•ì¥ì„±**: ë¡œë“œë°¸ëŸ°ì„œ + ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ íŠ¸ë˜í”½ ë¶„ì‚°
> 2. **ê°€ìš©ì„±**: ë‹¤ì¤‘í™” + ìë™ ë³µêµ¬ë¡œ 99.9% uptime
> 3. **ì„±ëŠ¥**: ìºì‹œ + CDN + ìµœì í™”ë¡œ ì‘ë‹µ ì‹œê°„ ìµœì†Œí™”

---

## 2. í™•ì¥ì„± ì „ëµ: ì‹¤ì œ ì ìš© ì‚¬ë¡€

**ğŸ’¡ ì„œë¹„ìŠ¤ë³„ í™•ì¥ ì „ëµ:**

| ì„œë¹„ìŠ¤ | í™•ì¥ ì „ëµ | íŠ¸ë˜í”½ ê·œëª¨ | í•µì‹¬ ê¸°ìˆ  |
|--------|-----------|-------------|----------|
| **ë„·í”Œë¦­ìŠ¤** | ìˆ˜í‰ í™•ì¥ | 2ì–µ+ ì‚¬ìš©ì | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ + Kubernetes |
| **í˜ì´ìŠ¤ë¶** | ìˆ˜í‰ í™•ì¥ | 30ì–µ+ ì‚¬ìš©ì | PHP + ìˆ˜í‰ ìƒ¤ë”© |
| **ì—ì–´ë¹„ì•¤ë¹„** | ìˆ˜í‰ í™•ì¥ | 1ì–µ+ ìˆ™ì†Œ | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ + ì´ë²¤íŠ¸ ê¸°ë°˜ |

**ğŸš¨ ì‹¤ì œ ë¬¸ì œ ì‚¬ë¡€:**

**ë¬¸ì œ 1: ìˆ˜ì§ í™•ì¥ì˜ í•œê³„**
```bash
# âŒ AWSì—ì„œ ì ì  í° ì¸ìŠ¤í„´ìŠ¤ë¡œ ì—…ê·¸ë ˆì´ë“œ
t2.micro â†’ t2.small â†’ t2.medium â†’ c5.large â†’ c5.2xlarge
# ë¹„ìš© ì¦ê°€ + ê²°êµ­ í•œê³„ ë„ë‹¬
```

```bash
# âœ… ìˆ˜í‰ í™•ì¥ìœ¼ë¡œ í•´ê²°
# Load Balancer ë’¤ì— ì—¬ëŸ¬ ì‘ì€ ì¸ìŠ¤í„´ìŠ¤
# íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë§Œ ëŠ˜ë¦¼
# ë¹„ìš© íš¨ìœ¨ì  + ë¬´í•œ í™•ì¥ ê°€ëŠ¥
```

**ë¬¸ì œ 2: ë°ì´í„°ë² ì´ìŠ¤ ë³‘ëª©**
```sql
-- âŒ ë‹¨ì¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
-- ì½ê¸°/ì“°ê¸° ëª¨ë‘ í•œ ê³³ìœ¼ë¡œ ì§‘ì¤‘
SELECT * FROM users WHERE id = 123;  -- ëŠë¦¼
INSERT INTO orders (id, user_id, total_amount, created_at)
VALUES (98765, 123, 19900, NOW());  -- ë” ëŠë¦¼
```

```sql
-- âœ… ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ ë¶„ë¦¬
-- Master: ì“°ê¸° ì „ìš©
-- Slaves: ì½ê¸° ì „ìš© (ë³µì œ)
-- Redis: ìºì‹œ ë ˆì´ì–´
```

**ë¬¸ì œ 3: ìºì‹œ ì „ëµ ì‹¤íŒ¨**
```java
// âŒ ëª¨ë“  ë°ì´í„°ë¥¼ ìºì‹œí•˜ë ¤ë‹¤ ë©”ëª¨ë¦¬ ë¶€ì¡±
@Cacheable("allUsers")
public List<User> getAllUsers() {
    return userRepository.findAll();  // 100ë§Œê°œ ìœ ì € ë°ì´í„° ìºì‹œ?
}
```

```java
// âœ… Hot ë°ì´í„°ë§Œ ìºì‹œ
@Cacheable("user")
public User getUserById(@CacheKey Long id) {
    return userRepository.findById(id);  // ìì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„°ë§Œ
}

// LRU ìºì‹œ + ì ì ˆí•œ TTL ì„¤ì •
```

### 2.2 ìˆ˜í‰ í™•ì¥ ì•„í‚¤í…ì²˜

```mermaid
graph LR
    User[ğŸ‘¥ Users] --> DNS[DNS Load Balancing]
    DNS --> LB1[Load Balancer 1]
    DNS --> LB2[Load Balancer 2]

    LB1 --> App1[App Server 1]
    LB1 --> App2[App Server 2]
    LB2 --> App3[App Server 3]
    LB2 --> App4[App Server 4]

    App1 --> DB1[(Master DB)]
    App2 --> DB1
    App3 --> DB2[(Replica DB)]
    App4 --> DB2

    DB1 --> Cache[(Redis Cluster)]
    DB2 --> Cache

    style DNS fill:#e1f5fe,stroke:#0277bd
    style Cache fill:#fff3e0,stroke:#ef6c00
```

### 2.3 ë¡œë“œ ë°¸ëŸ°ì‹± ì „ëµ

**L4 vs L7 ë¡œë“œ ë°¸ëŸ°ì‹±:**
* **L4 (Transport Layer):** IP/í¬íŠ¸ ê¸°ë°˜ ë¶„ì‚°, ë¹ ë¥´ê³  ë‹¨ìˆœ
* **L7 (Application Layer):** HTTP í—¤ë” ê¸°ë°˜ ë¶„ì‚°, ì§€ëŠ¥ì  ë¼ìš°íŒ… ê°€ëŠ¥

**ì•Œê³ ë¦¬ì¦˜:**
* **Round Robin:** ìˆœì°¨ì  ë¶„ë°°
* **Least Connections:** ì—°ê²° ì ì€ ì„œë²„ ìš°ì„ 
* **IP Hash:** ê°™ì€ IPëŠ” ê°™ì€ ì„œë²„ë¡œ (ì„¸ì…˜ ìœ ì§€)

---

## 3. ê³ ê°€ìš©ì„±(High Availability) ì„¤ê³„

ì‹œìŠ¤í…œì´ ì¥ì• ê°€ ë°œìƒí•´ë„ ê³„ì† ë™ì‘í•˜ë„ë¡ í•˜ëŠ” ì„¤ê³„ ì›ì¹™ì´ë‹¤.

### 3.1 ë‹¤ì¤‘í™”(Multiplication)ì˜ ì›ì¹™

**ì„œë²„ ë‹¤ì¤‘í™”:**
```mermaid
graph TD
    LB[Load Balancer<br/>Public IP: 1.2.3.4]
    
    subgraph Web_Servers [Web Server Cluster]
        S1[Web Svr 1<br/>(Active)]
        S2[Web Svr 2<br/>(Standby)]
    end
    
    LB --> S1
    LB -.-> S2

    style LB fill:#e3f2fd,stroke:#1565c0
    style S1 fill:#c8e6c9,stroke:#2e7d32
    style S2 fill:#e0e0e0,stroke:#616161,stroke-dasharray: 5 5
```

**ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™”:**
* **Master-Slave ë³µì œ:** ì“°ê¸°ëŠ” Master, ì½ê¸°ëŠ” Slave ë¶„ì‚°
* **Multi-Master:** ì—¬ëŸ¬ Masterê°€ ì“°ê¸° ì²˜ë¦¬ (ì¶©ëŒ í•´ê²° í•„ìš”)

### 3.2 ì¥ì•  ê°ì§€ì™€ ìë™ ë³µêµ¬

**í—¬ìŠ¤ ì²´í¬(Health Check):**
* **Active Monitoring:** ì£¼ê¸°ì  ìƒíƒœ í™•ì¸
* **Passive Monitoring:** ìš”ì²­ ì‹¤íŒ¨ ì‹œ ìë™ ì œì™¸

**ìë™ ë³µêµ¬:**
* **Auto Scaling:** íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ì„œë²„ ìë™ ì¶”ê°€
* **Self-Healing:** ì¥ì•  ì„œë²„ ìë™ ì¬ì‹œì‘/êµì²´

---

## 4. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(Microservices)

í•˜ë‚˜ì˜ í° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì€ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë“¤ë¡œ ë‚˜ëˆ„ëŠ” ì„¤ê³„ íŒ¨í„´ì´ë‹¤.

### 4.1 ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ì¥ë‹¨ì 

| ì¥ì  | ë‹¨ì  |
| --- | --- |
| ë…ë¦½ì  ë°°í¬ ë° í™•ì¥ ê°€ëŠ¥ | ì„œë¹„ìŠ¤ ê°„ í†µì‹  ë³µì¡ì„± ì¦ê°€ |
| ê¸°ìˆ  ìŠ¤íƒ ë‹¤ì–‘í™” ê°€ëŠ¥ | ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬ ì–´ë ¤ì›€ |
| ì¥ì•  ê²©ë¦¬ (í•œ ì„œë¹„ìŠ¤ ì£½ì–´ë„ ì˜í–¥ ìµœì†Œ) | ëª¨ë‹ˆí„°ë§ ë° ë””ë²„ê¹… ë³µì¡ |

### 4.2 ì„œë¹„ìŠ¤ ë¶„í•´ ì „ëµ

**DDD(Domain-Driven Design) ê¸°ë°˜ ë¶„í•´:**
```mermaid
graph TD
    GW[API Gateway]
    
    subgraph Services [Microservices]
        User[User Service]
        Product[Product Service]
        Order[Order Service]
    end
    
    GW --> User
    GW --> Product
    GW --> Order

    style GW fill:#e3f2fd,stroke:#1565c0
    style User fill:#fff9c4,stroke:#fbc02d
    style Product fill:#fff9c4,stroke:#fbc02d
    style Order fill:#fff9c4,stroke:#fbc02d
```

**ì„œë¹„ìŠ¤ ê°„ í†µì‹ :**
* **ë™ê¸°:** REST API, gRPC
* **ë¹„ë™ê¸°:** ë©”ì‹œì§€ í(Kafka, RabbitMQ)

### 4.3 API ê²Œì´íŠ¸ì›¨ì´(API Gateway)

ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ì…êµ¬ ì—­í• ì„ í•˜ëŠ” ë‹¨ì¼ ì§„ì…ì ì´ë‹¤.

**ì£¼ìš” ê¸°ëŠ¥:**
* **ë¼ìš°íŒ…:** ìš”ì²­ì„ ì ì ˆí•œ ì„œë¹„ìŠ¤ë¡œ ì „ë‹¬
* **ì¸ì¦/ì¸ê°€:** ê³µí†µ ë³´ì•ˆ ë¡œì§ ì²˜ë¦¬
* **ë¡œë“œ ë°¸ëŸ°ì‹±:** ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ê°„ ë¶„ì‚°
* **ë³€í™˜:** í”„ë¡œí† ì½œ ë³€í™˜, ë°ì´í„° í¬ë§·íŒ…

---

## 5. ë°ì´í„° ê´€ë¦¬ ì „ëµ

ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ë°ì´í„°ëŠ” ê°€ì¥ ë³µì¡í•œ ë¶€ë¶„ì´ë‹¤.

### 5.1 ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©(Sharding)

ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì— ë¶„ì‚° ì €ì¥í•˜ëŠ” ê¸°ë²•ì´ë‹¤.

**ìƒ¤ë”© ì „ëµ:**
* **Range Sharding:** ID ë²”ìœ„ë¡œ ë¶„í•  (1-1000, 1001-2000)
* **Hash Sharding:** í•´ì‹œ í•¨ìˆ˜ë¡œ ê· ë“± ë¶„ë°°
* **Directory Sharding:** ë§¤í•‘ í…Œì´ë¸”ë¡œ ìœ ì—°í•˜ê²Œ ë¶„ë°°

**ì£¼ì˜ì‚¬í•­:**
* **Cross-shard Query:** ì¡°ì¸ ì—°ì‚°ì´ ë¶ˆê°€ëŠ¥í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì²˜ë¦¬
* **Rebalancing:** ì„œë²„ ì¦ì„¤ ì‹œ ë°ì´í„° ì¬ë¶„ë°°ì˜ ì–´ë ¤ì›€

### 5.2 ìºì‹± ê³„ì¸µ ì„¤ê³„

**ë‹¤ì¤‘ ë ˆë²¨ ìºì‹±:**
```mermaid
graph BT
    DB[Database<br/>(Disk Storage)]
    Local[Local Cache<br/>(In-Memory)]
    Redis[Redis/Memcached<br/>(App Cache)]
    CDN[CDN<br/>(Global Edge)]
    
    DB --> Local
    Local --> Redis
    Redis --> CDN

    style DB fill:#e0e0e0,stroke:#616161
    style Local fill:#fff9c4,stroke:#fbc02d
    style Redis fill:#ffcc80,stroke:#ef6c00
    style CDN fill:#ffab91,stroke:#d84315
```

**ìºì‹œ ì „ëµ:**
* **Cache-aside:** ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìºì‹œ ê´€ë¦¬
* **Write-through:** DBì™€ ìºì‹œ ë™ì‹œ ì—…ë°ì´íŠ¸
* **Write-back:** ìºì‹œì— ë¨¼ì € ì“°ê³  ë¹„ë™ê¸° DB ë°˜ì˜

### 5.3 ë°ì´í„° ì¼ê´€ì„±

**CAP ì´ë¡ :**
* **Consistency:** ëª¨ë“  ë…¸ë“œê°€ ê°™ì€ ë°ì´í„°
* **Availability:** ì¼ë¶€ ë…¸ë“œ ì£½ì–´ë„ ì‘ë‹µ ê°€ëŠ¥
* **Partition Tolerance:** ë„¤íŠ¸ì›Œí¬ ë¶„ë‹¨ ì‹œì—ë„ ë™ì‘

**ì‹¤ë¬´ì  ì„ íƒ:**
* **CP ì‹œìŠ¤í…œ:** ê¸ˆìœµ, ì€í–‰ (ì¼ê´€ì„± ìš°ì„ )
* **AP ì‹œìŠ¤í…œ:** ì†Œì…œ ë¯¸ë””ì–´ (ê°€ìš©ì„± ìš°ì„ )

---

## 6. ì„±ëŠ¥ ìµœì í™” ê¸°ë²•

### 6.1 í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”

**CDN(Content Delivery Network):**
* ì „ ì„¸ê³„ ì—£ì§€ ì„œë²„ì— ì½˜í…ì¸  ë°°í¬
* ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ì„œë²„ì—ì„œ ì‘ë‹µ

**ì›¹ ìµœì í™”:**
* **ì••ì¶•:** Gzipìœ¼ë¡œ ì‘ë‹µ ì••ì¶•
* **ë²ˆë“¤ë§:** JS/CSS íŒŒì¼ í†µí•©
* **Lazy Loading:** í•„ìš”í•œ ì‹œì ì— ë¦¬ì†ŒìŠ¤ ë¡œë“œ

### 6.2 ë°±ì—”ë“œ ìµœì í™”

**ë¹„ë™ê¸° ì²˜ë¦¬:**
```python
# ë™ê¸° ì²˜ë¦¬ (ë¬¸ì œì : ì‘ë‹µ ëŒ€ê¸°)
def process_order(order):
    payment_result = payment_service.charge(order)  # 3ì´ˆ ëŒ€ê¸°
    inventory_result = inventory_service.reserve(order)  # 2ì´ˆ ëŒ€ê¸°
    return "Order completed"

# ë¹„ë™ê¸° ì²˜ë¦¬ (ê°œì„ : ë¹ ë¥¸ ì‘ë‹µ)
async def process_order_async(order):
    # ë™ì‹œì— ì‹¤í–‰
    payment_task = asyncio.create_task(payment_service.charge(order))
    inventory_task = asyncio.create_task(inventory_service.reserve(order))

    await asyncio.gather(payment_task, inventory_task)
    return "Order accepted"  # ì¦‰ì‹œ ì‘ë‹µ
```

**ì»¤ë„¥ì…˜ í’€ë§:**
* DB ì—°ê²° ì¬ì‚¬ìš©ìœ¼ë¡œ ì˜¤ë²„í—¤ë“œ ê°ì†Œ
* ìŠ¤ë ˆë“œ í’€, HTTP í´ë¼ì´ì–¸íŠ¸ í’€ ê´€ë¦¬

### 6.3 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

**ì¸ë±ìŠ¤ ì „ëµ:**
* ì¿¼ë¦¬ íŒ¨í„´ ë¶„ì„ í›„ ì „ëµì  ì¸ë±ìŠ¤ ìƒì„±
* ë³µí•© ì¸ë±ìŠ¤ë¡œ ë‹¤ì¤‘ ì¡°ê±´ ì²˜ë¦¬

**ì½ê¸°/ì“°ê¸° ë¶„ë¦¬:**
* Master: ì“°ê¸° ì „ìš©
* Slave: ì½ê¸° ì „ìš©
* Replication Lag ëª¨ë‹ˆí„°ë§

---

## 7. ëª¨ë‹ˆí„°ë§ê³¼ ê´€ì¸¡ì„±(Observability)

ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì€ "ë³´ì´ì§€ ì•ŠëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì–´ì•¼" í•œë‹¤.

### 7.1 ëª¨ë‹ˆí„°ë§ ì§€í‘œ

**ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­:**
* **RED ë©”íŠ¸ë¦­:** Rate(ìš”ì²­ë¥ ), Error(ì—ëŸ¬ìœ¨), Duration(ì‘ë‹µì‹œê°„)
* **USE ë©”íŠ¸ë¦­:** Utilization(ì‚¬ìš©ë¥ ), Saturation(í¬í™”ë„), Error(ì—ëŸ¬)

**ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­:**
* DAU/MAU (ì¼ê°„/ì›”ê°„ í™œì„± ì‚¬ìš©ì)
* ì „í™˜ìœ¨, ì´íƒˆë¥ 
* API í˜¸ì¶œ ë¹ˆë„

### 7.2 ë¡œê¹… ì „ëµ

**êµ¬ì¡°í™”ëœ ë¡œê¹…:**
```json
{
  "timestamp": "2024-01-15T10:30:00Z",
  "level": "ERROR",
  "service": "user-service",
  "request_id": "abc-123-def",
  "user_id": "user_456",
  "message": "Failed to update user profile",
  "error": "ValidationError: Invalid email format",
  "stack_trace": "ValidationError: Invalid email format\n  at com.example.user.ProfileValidator.validate(ProfileValidator.java:42)\n  at com.example.user.UserService.updateProfile(UserService.java:128)\n  at com.example.user.UserController.update(UserController.java:57)"
}
```

**ë¶„ì‚° ì¶”ì (Distributed Tracing):**
* ìš”ì²­ì´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í†µê³¼í•˜ëŠ” ê²½ë¡œ ì¶”ì 
* Jaeger, Zipkin ë“±ìœ¼ë¡œ êµ¬í˜„

### 7.3 ì•Œë¦¼ê³¼ ìë™í™”

**ì•Œë¦¼ ì „ëµ:**
* **í˜ì´ì§€(Paging):** ì¦‰ì‹œ ëŒ€ì‘ í•„ìš”í•œ ì‹¬ê°í•œ ì¥ì• 
* **í‹°ì¼“(Ticket):** ì—…ë¬´ ì‹œê°„ ë‚´ ì²˜ë¦¬ ê°€ëŠ¥í•œ ì´ìŠˆ
* **ë©”ì¼:** ì •ë³´ì„± ì•Œë¦¼

**ìë™í™”:**
* **Auto-scaling:** íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ìë™ í™•ì¥
* **Auto-healing:** ì¥ì•  ê°ì§€ ì‹œ ìë™ ë³µêµ¬
* **Auto-remediation:** ì•Œë ¤ì§„ ë¬¸ì œ ìë™ í•´ê²°

---

## 8. ë³´ì•ˆ ì„¤ê³„

ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì€ í•´í‚¹ì˜ ì£¼ìš” í‘œì ì´ ëœë‹¤.

### 8.1 Defense in Depth (ë‹¤ì¤‘ ë°©ì–´)

**ë„¤íŠ¸ì›Œí¬ ë ˆë²¨:**
* **WAF(Web Application Firewall):** SQL Injection, XSS ì°¨ë‹¨
* **DDoS Protection:** Cloudflare, AWS Shield

**ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨:**
* **Input Validation:** ëª¨ë“  ì…ë ¥ê°’ ê²€ì¦
* **ì¸ì¦/ì¸ê°€:** JWT, OAuth 2.0
* **ì•”í˜¸í™”:** ì „ì†¡ ì¤‘ TLS, ì €ì¥ ì‹œ AES

### 8.2 ì œë¡œ íŠ¸ëŸ¬ìŠ¤íŠ¸ ëª¨ë¸

**ê¸°ë³¸ ì›ì¹™:** "ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë„ ì‹ ë¢°í•˜ì§€ ë§ë¼"

**êµ¬í˜„:**
* **ë§ˆì´í¬ë¡œ ì„¸ê·¸ë¨¼í…Œì´ì…˜:** ì„œë¹„ìŠ¤ ê°„ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
* **ì§€ì†ì  ê²€ì¦:** ëª¨ë“  ìš”ì²­ì— ëŒ€í•œ ì‹¤ì‹œê°„ ì¸ì¦
* **ìµœì†Œ ê¶Œí•œ:** í•„ìš”í•œ ìµœì†Œí•œì˜ ê¶Œí•œë§Œ ë¶€ì—¬

---

## 9. Production-Ready ì˜ˆì‹œ

### 9.1 Netflix ì•„í‚¤í…ì²˜

```mermaid
graph TD
    GW[API Gateway<br/>(Zuul)]
    
    subgraph Services
        User[User Service]
        Content[Content Service]
    end
    
    Registry[Eureka<br/>(Service Registry)]
    
    GW --> User
    GW --> Content
    
    User -.-> Registry
    Content -.-> Registry
    GW -.-> Registry

    style GW fill:#e3f2fd,stroke:#1565c0
    style Registry fill:#fff9c4,stroke:#fbc02d
```

### 9.2 AWS ê¸°ë°˜ ëŒ€ê·œëª¨ ì•„í‚¤í…ì²˜

```text
[AWS Well-Architected Framework]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CloudFront (CDN)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚   ALB     â”‚     â”‚   API GW  â”‚
    â”‚(Load      â”‚     â”‚(Gateway)  â”‚
    â”‚ Balancer) â”‚     â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
    â”‚     â”‚        â”‚        â”‚     â”‚
â”Œâ”€â”€â”€â”´â”€â”€â” â”Œâ”´â” â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”
â”‚ ECS  â”‚ â”‚ â”‚ â”‚ Lambda  â”‚ â”‚ RDS â”‚
â”‚Tasks â”‚ â”‚ â”‚ â”‚Functionsâ”‚ â”‚Auroraâ”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
```

---

## 10. ì „ë¬¸ê°€ì  ì¡°ì–¸ (Pro Tip)

### 10.1 ì„¤ê³„ ì›ì¹™
* **KISS (Keep It Simple, Stupid):** ë³µì¡ì„±ì„ ìµœì†Œí™”
* **YAGNI (You Aren't Gonna Need It):** í•„ìš”í•  ë•Œ í™•ì¥
* **Fail Fast:** ë¹ ë¥¸ ì‹¤íŒ¨ë¡œ ë¬¸ì œ ì¡°ê¸° ë°œê²¬

### 10.2 ìš´ì˜ ì›ì¹™
* **ëª¨ë‹ˆí„°ë§ ìš°ì„ :** ë©”íŠ¸ë¦­ ìˆ˜ì§‘ë¶€í„° ì‹œì‘
* **ìë™í™”:** ìˆ˜ë™ ì‘ì—…ì„ ì½”ë“œë¡œ ë³€í™˜
* **ë¬¸ì„œí™”:** ì•„í‚¤í…ì²˜ ê²°ì • ì´ìœ  ê¸°ë¡

### 10.3 ì„±ì¥ ê´€ë¦¬
* **ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜:** Big Bangì´ ì•„ë‹Œ ë‹¨ê³„ì  ì „í™˜
* **A/B í…ŒìŠ¤íŠ¸:** ë³€ê²½ì‚¬í•­ì˜ ì˜í–¥ ì¸¡ì •
* **ë¡¤ë°± ê³„íš:** ì–¸ì œë“  ì›ìƒë³µêµ¬ ê°€ëŠ¥í•˜ë„ë¡

---

## 11. ì¥ì•  ê²©ë¦¬ ì „ëµ (Resilience Patterns)

> **ì´ ì„¹ì…˜ì˜ ëª©í‘œ**  
> í•œ ì„œë¹„ìŠ¤ì˜ ì¥ì• ê°€ ì „ì²´ ì‹œìŠ¤í…œìœ¼ë¡œ ì „íŒŒë˜ëŠ” ê²ƒ(**Cascading Failure**)ì„ ë§‰ëŠ”ë‹¤.

---

### ğŸ“Œ í•µì‹¬ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì¥ì•  ê²©ë¦¬ 4ëŒ€ íŒ¨í„´                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. íƒ€ì„ì•„ì›ƒ ê³„ì¸µí™”  â†’ ê³ ì•„ ìš”ì²­ ë°©ì§€                       â”‚
â”‚  2. ì§€ìˆ˜ ë°±ì˜¤í”„      â†’ ì¬ì‹œë„ í­íƒ„ ë°©ì§€                     â”‚
â”‚  3. ì„œí‚· ë¸Œë ˆì´ì»¤    â†’ ì—°ì‡„ ì¥ì•  ì°¨ë‹¨                       â”‚
â”‚  4. ê²©ë²½(Bulkhead)   â†’ ë¦¬ì†ŒìŠ¤ ê²©ë¦¬                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 11.1 íƒ€ì„ì•„ì›ƒ ê³„ì¸µí™”

#### ğŸš¨ ë¬¸ì œ: ê³ ì•„ ìš”ì²­ (Orphaned Request)

í´ë¼ì´ì–¸íŠ¸ê°€ ë¨¼ì € í¬ê¸°í–ˆëŠ”ë°, ì„œë²„ëŠ” ì—¬ì „íˆ ì‘ì—… ì¤‘ì¸ ìƒí™©.

```mermaid
sequenceDiagram
    participant Client
    participant LB as Load Balancer
    participant Server

    Note over Client: Timeout: 3s
    Note over LB: Timeout: 60s
    Note over Server: Processing...

    Client->>LB: Request
    LB->>Server: Request
    
    Note right of Client: 3s passed...
    Client--xLB: âŒ Timeout (Give up)
    Client->>LB: Retry Request (New)
    
    Note right of Server: Still processing (1st)...
    Server-->>LB: Response (1st)
    LB--xClient: âŒ Client gone (Orphaned)
    
    Note right of Server: Server resource wasted!
```

#### âœ… í•´ê²°: ë°”ê¹¥ìª½ â†’ ì•ˆìª½ìœ¼ë¡œ íƒ€ì„ì•„ì›ƒ ì¦ê°€

```
Client(3ì´ˆ) < Gateway(5ì´ˆ) < LB(10ì´ˆ) < Server(15ì´ˆ) < DB(20ì´ˆ)
```

```java
// Spring WebClient
WebClient client = WebClient.builder()
    .clientConnector(new ReactorClientHttpConnector(
        HttpClient.create()
            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3000)  // ì—°ê²° 3ì´ˆ
            .responseTimeout(Duration.ofSeconds(5))              // ì‘ë‹µ 5ì´ˆ
    ))
    .build();
```

---

### 11.2 ì¬ì‹œë„ ì „ëµ

#### ğŸš¨ ë¬¸ì œ: ì¬ì‹œë„ í­íƒ„ (Thundering Herd)

```
ì„œë²„ ê³¼ë¶€í•˜ ìƒíƒœ
    â†“
1000ëª… ë™ì‹œ ì¬ì‹œë„ â†’ ì„œë²„ ë¶€í•˜ 3ë°° â†’ ì™„ì „íˆ ì£½ìŒ ğŸ’€
```

#### âœ… í•´ê²°: ì§€ìˆ˜ ë°±ì˜¤í”„ + Jitter

| í•­ëª© | âŒ ì˜ëª»ëœ ë°©ì‹ | âœ… ì˜¬ë°”ë¥¸ ë°©ì‹ |
|------|--------------|---------------|
| ì¬ì‹œë„ íšŸìˆ˜ | ë¬´í•œ | **ìµœëŒ€ 3íšŒ** |
| ì¬ì‹œë„ ê°„ê²© | ì¦‰ì‹œ | **1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ** |
| ì¬ì‹œë„ ëŒ€ìƒ | ëª¨ë“  ì—ëŸ¬ | **5xxë§Œ** (4xxëŠ” ê¸ˆì§€) |
| ë™ì‹œ ì¬ì‹œë„ | ëª¨ë‘ ë™ì‹œ | **Jitterë¡œ ë¶„ì‚°** |

```python
def retry_with_backoff(func, max_retries=3):
    for attempt in range(max_retries):
        try:
            return func()
        except RetryableError:
            if attempt == max_retries - 1:
                raise
            
            # ì§€ìˆ˜ ë°±ì˜¤í”„: 1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ
            delay = 2 ** attempt
            
            # Jitter: ëœë¤í•˜ê²Œ ë¶„ì‚° (ë™ì‹œ ì¬ì‹œë„ ë°©ì§€)
            jitter = delay * random.random()
            
            time.sleep(delay + jitter)
```

---

### 11.3 ì„œí‚· ë¸Œë ˆì´ì»¤

#### ğŸ’¡ ê°œë…: ë¹ ë¥¸ ì‹¤íŒ¨ (Fail Fast)

ì¥ì•  ì„œë¹„ìŠ¤ì— ê³„ì† ìš”ì²­ â†’ í˜¸ì¶œí•˜ëŠ” ìª½ë„ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ì£½ìŒ

**ì„œí‚· ë¸Œë ˆì´ì»¤ = ì „ê¸° ì°¨ë‹¨ê¸°ì²˜ëŸ¼ ë™ì‘**

```
[Circuit Breaker State Machine]

       (Failure Rate < Threshold)
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”Œâ”€â”€â”€â–ºâ”‚  CLOSED   â”‚â—„â”€â”€â”€â”€â”€â”€â”
      â”‚    â”‚ (Normal)  â”‚       â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚ (Success)
      â”‚          â”‚             â”‚
 (Success)       â”‚(Failure > Threshold)
      â”‚          â–¼             â”‚
      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
      â”‚    â”‚   OPEN    â”‚       â”‚
      â”‚    â”‚(Rejected) â”‚       â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
      â”‚          â”‚             â”‚
      â”‚          â”‚(Timeout)    â”‚
      â”‚          â–¼             â”‚
      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
      â””â”€â”€â”€ â”‚ HALF-OPEN â”‚â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ (Testing) â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           (Failure)
               â”‚
               â–¼
             OPEN
```

| ìƒíƒœ | ë™ì‘ |
|------|------|
| **CLOSED** | ì •ìƒ. ëª¨ë“  ìš”ì²­ í†µê³¼ |
| **OPEN** | ì°¨ë‹¨. ìš”ì²­ ì¦‰ì‹œ ì‹¤íŒ¨ ë°˜í™˜ (ë¹ ë¥¸ ì‹¤íŒ¨) |
| **HALF-OPEN** | ì¼ë¶€ ìš”ì²­ë§Œ í†µê³¼ì‹œì¼œ ë³µêµ¬ í™•ì¸ |

```java
// Resilience4j ì„¤ì •
CircuitBreakerConfig config = CircuitBreakerConfig.custom()
    .failureRateThreshold(50)           // ì‹¤íŒ¨ìœ¨ 50% â†’ OPEN
    .waitDurationInOpenState(Duration.ofSeconds(30))  // 30ì´ˆ í›„ HALF-OPEN
    .slidingWindowSize(10)              // ìµœê·¼ 10ê°œ ìš”ì²­ ê¸°ì¤€
    .build();
```

---

### 11.4 ê²©ë²½ (Bulkhead) íŒ¨í„´

#### ğŸ’¡ ê°œë…: ì„œë¹„ìŠ¤ë³„ ë¦¬ì†ŒìŠ¤ ë¶„ë¦¬

```mermaid
graph TD
    subgraph No_Bulkhead [âŒ ê²©ë²½ ì—†ìŒ]
        Pool1[ê³µìœ  ìŠ¤ë ˆë“œ í’€ 100ê°œ]
        SvcA1[Service A: 50ê°œ ì ìœ ]
        SvcB1[Service B: 50ê°œ ëŒ€ê¸°]
        SvcC1[Service C: 0ê°œ ëŒ€ê¸°]
        
        Pool1 --> SvcA1
        Pool1 --> SvcB1
        Pool1 --> SvcC1
        
        style SvcB1 fill:#ffcdd2
        style SvcC1 fill:#ffcdd2
    end

    subgraph Bulkhead [âœ… ê²©ë²½ ì ìš©]
        PoolA[Pool A: 30ê°œ] --> SvcA2[Service A<br/>(Full)]
        PoolB[Pool B: 30ê°œ] --> SvcB2[Service B<br/>(OK)]
        PoolC[Pool C: 30ê°œ] --> SvcC2[Service C<br/>(OK)]
        
        style SvcA2 fill:#ffcdd2
        style SvcB2 fill:#c8e6c9
        style SvcC2 fill:#c8e6c9
    end
```

---

### ğŸ“‹ ì¥ì•  ê²©ë¦¬ íŒ¨í„´ ìš”ì•½

| íŒ¨í„´ | ëª©ì  | ì ìš© ì‹œì  |
|------|------|----------|
| **íƒ€ì„ì•„ì›ƒ ê³„ì¸µí™”** | ê³ ì•„ ìš”ì²­ ë°©ì§€ | ëª¨ë“  ì™¸ë¶€ í˜¸ì¶œ |
| **ì§€ìˆ˜ ë°±ì˜¤í”„ + Jitter** | ì¬ì‹œë„ í­íƒ„ ë°©ì§€ | ì¬ì‹œë„ ë¡œì§ |
| **ì„œí‚· ë¸Œë ˆì´ì»¤** | ì—°ì‡„ ì¥ì•  ì°¨ë‹¨ | ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ |
| **ê²©ë²½(Bulkhead)** | ë¦¬ì†ŒìŠ¤ ê²©ë¦¬ | ì„œë¹„ìŠ¤ë³„ ìŠ¤ë ˆë“œ í’€ |

> ğŸ’¡ **Pro Tip:** 4ê°€ì§€ íŒ¨í„´ì€ **ì¡°í•©**ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ íš¨ê³¼ì ì´ë‹¤.  
> ì ìš© ìˆœì„œ: `Bulkhead` â†’ `CircuitBreaker` â†’ `Retry` â†’ `Timeout`